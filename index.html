<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon å¡ç‰‡ç›¸ä¼¼åº¦æœç´¢</title>

    <!-- Google AdSense éªŒè¯ä»£ç ï¼ˆæ›¿æ¢ä¸ºä½ çš„å®é™…ä»£ç ï¼‰ -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3743649878008241"
        crossorigin="anonymous"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .api-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .api-status.online {
            background: #d4edda;
            color: #155724;
        }

        .api-status.offline {
            background: #f8d7da;
            color: #721c24;
        }

        .card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }

        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 60px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9ff;
        }

        .upload-area:hover {
            border-color: #764ba2;
            background: #f0f2ff;
        }

        .upload-area.drag-over {
            border-color: #764ba2;
            background: #e8ebff;
            transform: scale(1.02);
        }

        .upload-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .upload-text {
            font-size: 1.2em;
            color: #667eea;
            margin-bottom: 10px;
        }

        .upload-hint {
            color: #999;
        }

        #fileInput {
            display: none;
        }

        .preview-section {
            margin-top: 30px;
            display: none;
            text-align: center;
        }

        .preview-image {
            max-width: 100%;
            max-height: 400px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .search-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.2s;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(102, 126, 234, 0.6);
        }

        .search-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-section {
            display: none;
        }

        .results-header {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #333;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .result-item {
            background: #f8f9ff;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: transform 0.2s;
        }

        .result-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .result-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            line-height: 30px;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .result-path {
            font-size: 0.9em;
            color: #666;
            word-break: break-all;
            margin-top: 10px;
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .message {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            opacity: 0.8;
        }

        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            border-radius: 25px;
            padding: 8px 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .language-switcher button {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 6px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
            font-weight: 500;
        }

        .language-switcher button:hover {
            background: #f0f2ff;
        }

        .language-switcher button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        /* å¹¿å‘Šå®¹å™¨æ ·å¼ */
        .ad-container {
            margin: 20px 0;
            text-align: center;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ad-container.horizontal {
            width: 100%;
            max-width: 728px;
            margin: 20px auto;
        }

        .ad-container.vertical {
            width: 100%;
            max-width: 300px;
            margin: 20px auto;
        }

        .ad-label {
            font-size: 0.75em;
            color: #999;
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .card {
                padding: 20px;
            }

            .results-grid {
                grid-template-columns: 1fr;
            }

            .language-switcher {
                top: 10px;
                right: 10px;
                padding: 6px 10px;
            }

            .language-switcher {
                flex-wrap: wrap;
                gap: 8px;
            }

            .language-switcher button {
                padding: 5px 12px;
                font-size: 0.85em;
            }
        }
    </style>
</head>

<body>
    <!-- è¯­è¨€åˆ‡æ¢å™¨ -->
    <div class="language-switcher">
        <button id="langZh" onclick="switchLanguage('zh')">ä¸­æ–‡</button>
        <button id="langEn" onclick="switchLanguage('en')">English</button>
        <button id="langJa" onclick="switchLanguage('ja')">æ—¥æœ¬èª</button>
    </div>

    <div class="container">
        <div class="header">
            <h1 id="title">ğŸ” Pokemon å¡ç‰‡ç›¸ä¼¼åº¦æœç´¢</h1>
            <p id="subtitle">ä¸Šä¼ å›¾ç‰‡ï¼Œæ‰¾åˆ°ç›¸ä¼¼çš„å®å¯æ¢¦å¡ç‰‡</p>
            <div id="apiStatus" class="api-status offline">ğŸ”´ æ£€æŸ¥ä¸­...</div>
        </div>

        <!-- é¡¶éƒ¨æ¨ªå¹…å¹¿å‘Š -->
        <div class="card" style="padding: 20px;">
            <div class="ad-container horizontal">
                <!-- æ›¿æ¢ä¸ºä½ çš„å¹¿å‘Šä»£ç  -->
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3743649878008241"
                    data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>

        <div class="card">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">ğŸ“¸</div>
                <div class="upload-text" id="uploadText">ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œ</div>
                <div class="upload-hint" id="uploadHint">æ”¯æŒ JPGã€PNGã€BMP ç­‰æ ¼å¼</div>
                <input type="file" id="fileInput" accept="image/*">
            </div>

            <div class="preview-section" id="previewSection">
                <h3 id="previewTitle">é¢„è§ˆï¼š</h3>
                <img id="previewImage" class="preview-image" alt="é¢„è§ˆå›¾ç‰‡">
                <br>
                <button class="search-btn" id="searchBtn">ğŸ” å¼€å§‹æœç´¢</button>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p id="loadingText" style="margin-top: 15px; color: #667eea;">æ­£åœ¨æœç´¢ä¸­...</p>
            </div>

            <div class="message error" id="errorMessage"></div>
            <div class="message success" id="successMessage"></div>
        </div>

        <div class="card results-section" id="resultsSection">
            <h2 class="results-header" id="resultsHeader">æœç´¢ç»“æœï¼š</h2>
            <div class="results-grid" id="resultsGrid"></div>
        </div>

        <!-- åº•éƒ¨æ¨ªå¹…å¹¿å‘Š -->
        <div class="card" style="padding: 20px; margin-top: 30px;">
            <div class="ad-container horizontal">
                <!-- æ›¿æ¢ä¸ºä½ çš„å¹¿å‘Šä»£ç  -->
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3743649878008241"
                    data-ad-slot="0987654321" data-ad-format="auto" data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>

        <div class="footer">
            <p id="footerText">Powered by Cloudflare Tunnel & Cloudflare Pages</p>
        </div>
    </div>

    <script>
        // å¤šè¯­è¨€æ”¯æŒ
        const translations = {
            zh: {
                title: 'ğŸ” Pokemon å¡ç‰‡ç›¸ä¼¼åº¦æœç´¢',
                subtitle: 'ä¸Šä¼ å›¾ç‰‡ï¼Œæ‰¾åˆ°ç›¸ä¼¼çš„å®å¯æ¢¦å¡ç‰‡',
                uploadText: 'ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œ',
                uploadHint: 'æ”¯æŒ JPGã€PNGã€BMP ç­‰æ ¼å¼',
                previewTitle: 'é¢„è§ˆï¼š',
                searchBtn: 'ğŸ” å¼€å§‹æœç´¢',
                resultsHeader: 'æœç´¢ç»“æœï¼š',
                checking: 'ğŸ”´ æ£€æŸ¥ä¸­...',
                online: 'ğŸŸ¢ API åœ¨çº¿',
                offline: 'ğŸ”´ API ç¦»çº¿',
                loading: 'æ­£åœ¨æœç´¢ä¸­...',
                invalidFile: 'è¯·é€‰æ‹©æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶',
                searchSuccess: 'æ‰¾åˆ° {count} å¼ ç›¸ä¼¼å›¾ç‰‡ï¼',
                searchFailed: 'æœç´¢å¤±è´¥ï¼šæœªæ‰¾åˆ°ç›¸ä¼¼å›¾ç‰‡',
                requestFailed: 'è¯·æ±‚å¤±è´¥: {error}ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥ã€‚',
                footerText: 'Powered by Cloudflare Tunnel & Cloudflare Pages'
            },
            en: {
                title: 'ğŸ” Pokemon Card Similarity Search',
                subtitle: 'Upload an image to find similar Pokemon cards',
                uploadText: 'Click or drag image here',
                uploadHint: 'Supports JPG, PNG, BMP and other formats',
                previewTitle: 'Preview:',
                searchBtn: 'ğŸ” Start Search',
                resultsHeader: 'Search Results:',
                checking: 'ğŸ”´ Checking...',
                online: 'ğŸŸ¢ API Online',
                offline: 'ğŸ”´ API Offline',
                loading: 'Searching...',
                invalidFile: 'Please select a valid image file',
                searchSuccess: 'Found {count} similar images!',
                searchFailed: 'Search failed: No similar images found',
                requestFailed: 'Request failed: {error}. Please check your network connection.',
                footerText: 'Powered by Cloudflare Tunnel & Cloudflare Pages'
            },
            ja: {
                title: 'ğŸ” ãƒã‚±ãƒ¢ãƒ³ã‚«ãƒ¼ãƒ‰é¡ä¼¼åº¦æ¤œç´¢',
                subtitle: 'ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€é¡ä¼¼ã®ãƒã‚±ãƒ¢ãƒ³ã‚«ãƒ¼ãƒ‰ã‚’è¦‹ã¤ã‘ã‚‹',
                uploadText: 'ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯ã¾ãŸã¯ç”»åƒã‚’ãƒ‰ãƒ©ãƒƒã‚°',
                uploadHint: 'JPGã€PNGã€BMPãªã©ã®å½¢å¼ã‚’ã‚µãƒãƒ¼ãƒˆ',
                previewTitle: 'ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼š',
                searchBtn: 'ğŸ” æ¤œç´¢é–‹å§‹',
                resultsHeader: 'æ¤œç´¢çµæœï¼š',
                checking: 'ğŸ”´ ç¢ºèªä¸­...',
                online: 'ğŸŸ¢ API ã‚ªãƒ³ãƒ©ã‚¤ãƒ³',
                offline: 'ğŸ”´ API ã‚ªãƒ•ãƒ©ã‚¤ãƒ³',
                loading: 'æ¤œç´¢ä¸­...',
                invalidFile: 'æœ‰åŠ¹ãªç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„',
                searchSuccess: '{count} æšã®é¡ä¼¼ç”»åƒãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼',
                searchFailed: 'æ¤œç´¢å¤±æ•—ï¼šé¡ä¼¼ç”»åƒãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ',
                requestFailed: 'ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¤±æ•—: {error}ã€‚ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚',
                footerText: 'Powered by Cloudflare Tunnel & Cloudflare Pages'
            }
        };

        // æ£€æµ‹æµè§ˆå™¨è¯­è¨€
        function detectBrowserLanguage() {
            // è·å–æµè§ˆå™¨è¯­è¨€è®¾ç½®
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.toLowerCase().split('-')[0]; // ä¾‹å¦‚ 'ja-JP' -> 'ja'

            // æ”¯æŒçš„è¯­è¨€æ˜ å°„
            const supportedLangs = ['zh', 'en', 'ja'];

            // å¦‚æœæµè§ˆå™¨è¯­è¨€æ˜¯æ”¯æŒçš„è¯­è¨€ä¹‹ä¸€ï¼Œè¿”å›è¯¥è¯­è¨€
            if (supportedLangs.includes(langCode)) {
                return langCode;
            }

            // æ£€æŸ¥å®Œæ•´çš„è¯­è¨€ä»£ç ï¼ˆä¾‹å¦‚ zh-CN, ja-JPï¼‰
            if (browserLang.toLowerCase().startsWith('zh')) {
                return 'zh';
            } else if (browserLang.toLowerCase().startsWith('ja')) {
                return 'ja';
            }

            // é»˜è®¤è¿”å›è‹±æ–‡
            return 'en';
        }

        // å½“å‰è¯­è¨€ï¼ˆä¼˜å…ˆä½¿ç”¨ä¿å­˜çš„è¯­è¨€ï¼Œå¦åˆ™è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼‰
        const savedLang = localStorage.getItem('pokemon_search_lang');
        let currentLang = savedLang || detectBrowserLanguage();

        // è¯­è¨€åˆ‡æ¢å‡½æ•°
        function switchLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('pokemon_search_lang', lang);
            updateLanguage();
            updateActiveButton();
        }

        // æ›´æ–°è¯­è¨€æŒ‰é’®çŠ¶æ€
        function updateActiveButton() {
            document.getElementById('langZh').classList.toggle('active', currentLang === 'zh');
            document.getElementById('langEn').classList.toggle('active', currentLang === 'en');
            document.getElementById('langJa').classList.toggle('active', currentLang === 'ja');
        }

        // æ›´æ–°é¡µé¢è¯­è¨€
        function updateLanguage() {
            const t = translations[currentLang];

            document.getElementById('title').textContent = t.title;
            document.getElementById('subtitle').textContent = t.subtitle;
            document.getElementById('uploadText').textContent = t.uploadText;
            document.getElementById('uploadHint').textContent = t.uploadHint;
            document.getElementById('previewTitle').textContent = t.previewTitle;
            document.getElementById('searchBtn').textContent = t.searchBtn;
            document.getElementById('resultsHeader').textContent = t.resultsHeader;
            document.getElementById('footerText').textContent = t.footerText;

            // æ›´æ–°åŠ è½½æç¤º
            const loadingText = document.getElementById('loadingText');
            if (loadingText) {
                loadingText.textContent = t.loading;
            }

            // æ›´æ–° API çŠ¶æ€æ–‡æœ¬
            const apiStatus = document.getElementById('apiStatus');
            const statusText = apiStatus.textContent;
            if (statusText.includes('æ£€æŸ¥ä¸­') || statusText.includes('Checking') || statusText.includes('ç¢ºèªä¸­')) {
                apiStatus.textContent = t.checking;
            }
        }

        // API é…ç½®ï¼ˆå†™æ­»ï¼‰
        const API_URL = 'https://api.carddog.site';
        const RESULT_COUNT = 10;

        function getApiUrl() {
            return API_URL;
        }

        function getResultCount() {
            return RESULT_COUNT;
        }

        // API çŠ¶æ€æ£€æŸ¥
        async function checkApiStatus() {
            const apiStatus = document.getElementById('apiStatus');
            const apiUrl = getApiUrl();

            try {
                const response = await fetch(`${apiUrl}/health`, {
                    method: 'GET',
                    mode: 'cors'
                });

                if (response.ok) {
                    const data = await response.json();
                    apiStatus.className = 'api-status online';
                    apiStatus.textContent = translations[currentLang].online;
                } else {
                    throw new Error('API å“åº”å¼‚å¸¸');
                }
            } catch (error) {
                apiStatus.className = 'api-status offline';
                apiStatus.textContent = translations[currentLang].offline;
                console.warn('API çŠ¶æ€æ£€æŸ¥å¤±è´¥:', error);
            }
        }

        // æ–‡ä»¶å¤„ç†
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const previewSection = document.getElementById('previewSection');
        const previewImage = document.getElementById('previewImage');
        const searchBtn = document.getElementById('searchBtn');
        const loading = document.getElementById('loading');
        const errorMessage = document.getElementById('errorMessage');
        const successMessage = document.getElementById('successMessage');
        const resultsSection = document.getElementById('resultsSection');
        const resultsGrid = document.getElementById('resultsGrid');

        let selectedFile = null;

        uploadArea.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('drag-over');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('drag-over');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('drag-over');
            handleFile(e.dataTransfer.files[0]);
        });

        function handleFile(file) {
            if (!file || !file.type.startsWith('image/')) {
                showError(translations[currentLang].invalidFile);
                return;
            }

            selectedFile = file;

            const reader = new FileReader();
            reader.onload = (e) => {
                previewImage.src = e.target.result;
                previewSection.style.display = 'block';
                resultsSection.style.display = 'none';
            };
            reader.readAsDataURL(file);

            hideMessages();
        }

        // æœç´¢åŠŸèƒ½
        searchBtn.addEventListener('click', async () => {
            if (!selectedFile) return;

            const apiUrl = getApiUrl();
            const resultCount = getResultCount();

            hideMessages();
            loading.style.display = 'block';
            searchBtn.disabled = true;

            const formData = new FormData();
            formData.append('file', selectedFile);

            try {
                const response = await fetch(`${apiUrl}/search?n_results=${resultCount}`, {
                    method: 'POST',
                    mode: 'cors',
                    body: formData
                });

                const result = await response.json();

                // æ£€æŸ¥è¿”å›ç»“æœï¼šå¦‚æœæœ‰ results æ•°ç»„ä¸”ä¸ä¸ºç©ºï¼Œåˆ™è®¤ä¸ºæˆåŠŸ
                if (response.ok && result.results && Array.isArray(result.results) && result.results.length > 0) {
                    const t = translations[currentLang];
                    showSuccess(t.searchSuccess.replace('{count}', result.results.length));
                    displayResults(result.results);
                } else {
                    const t = translations[currentLang];
                    showError(result.detail || result.message || t.searchFailed);
                }
            } catch (error) {
                const t = translations[currentLang];
                showError(t.requestFailed.replace('{error}', error.message));
            } finally {
                loading.style.display = 'none';
                searchBtn.disabled = false;
            }
        });

        // æ˜¾ç¤ºç»“æœ
        function displayResults(results) {
            resultsGrid.innerHTML = '';
            const IMAGE_BASE_URL = 'http://pokemon.wz02.fun/image/';

            results.forEach((filename, index) => {
                const item = document.createElement('div');
                item.className = 'result-item';

                // æ„å»ºå®Œæ•´çš„å›¾ç‰‡ URL
                const imageUrl = IMAGE_BASE_URL + filename;

                item.innerHTML = `
                    <div class="result-number">${index + 1}</div>
                    <img src="${imageUrl}" alt="${filename}" style="max-width: 100%; border-radius: 8px; margin: 10px 0;" onerror="this.style.display='none'">
                    <div class="result-path" title="${filename}">${filename}</div>
                `;

                resultsGrid.appendChild(item);
            });

            resultsSection.style.display = 'block';

            setTimeout(() => {
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            }, 100);
        }

        // æ¶ˆæ¯æ˜¾ç¤º
        function showError(message) {
            errorMessage.textContent = 'âŒ ' + message;
            errorMessage.style.display = 'block';
            successMessage.style.display = 'none';
        }

        function showSuccess(message) {
            successMessage.textContent = 'âœ… ' + message;
            successMessage.style.display = 'block';
            errorMessage.style.display = 'none';
        }

        function hideMessages() {
            errorMessage.style.display = 'none';
            successMessage.style.display = 'none';
        }

        // é¡µé¢åŠ è½½
        window.addEventListener('load', () => {
            // åˆå§‹åŒ–è¯­è¨€
            updateLanguage();
            updateActiveButton();

            // åˆå§‹åŒ– API çŠ¶æ€ä¸ºæ£€æŸ¥ä¸­
            document.getElementById('apiStatus').textContent = translations[currentLang].checking;

            // æ£€æŸ¥ API çŠ¶æ€
            checkApiStatus();

            // æ¯ 30 ç§’æ£€æŸ¥ä¸€æ¬¡ API çŠ¶æ€
            setInterval(checkApiStatus, 30000);
        });
    </script>
</body>

</html>